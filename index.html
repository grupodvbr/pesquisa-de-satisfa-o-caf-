<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Pesquisa de Satisfação</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  body { background: #000; color: #fff; font-family: monospace, sans-serif; margin: 20px; }
  img { display: block; margin: 0 auto; max-height: 80px; }
  h1 { text-align: center; margin-bottom: 30px; }
  form { max-width: 600px; margin: 0 auto; }
  .question { margin-bottom: 20px; }
  .question label { display: block; margin-bottom: 6px; }
  input[type="text"], select, textarea {
    width: 100%; padding: 10px; background: #000; border: 1px solid #fff;
    color: #fff; border-radius: 4px; margin-bottom: 10px;
  }
  input[type="radio"] { margin-right: 8px; }
  .options label { display: block; margin: 4px 0; }
  .justify { display: none; margin-top: 10px; }
  button {
    background: #fff; color: #000; border: none; padding: 12px 20px; border-radius: 4px;
    cursor: pointer; font-weight: bold;
  }
  button:hover { background: #ddd; }
  .success { color: #0f0; margin-top: 20px; }
  .error { color: #f00; margin-top: 20px; }
</style>

</head>
<body>

<img src="https://static.wixstatic.com/media/d830b0_207a7b09d8f24ebc97b887c3d4d18691~mv2.png" alt="Logo Delícia Gourmet">
<h1>Pesquisa de Satisfação</h1>

<form id="pesquisaForm">

  <div class="question">
    <label>Nome e sobrenome *</label>
    <input type="text" name="nome" required>
  </div>

  <div class="question">
    <label>Qual a data de seu aniversário?</label>
    <div style="display: flex; gap: 10px;">
      <input type="text" name="dia" placeholder="Dia" style="flex:1;">
      <select name="mes" style="flex:2;">
        <option value="">Mês</option>
        <option value="Janeiro">Janeiro</option>
        <option value="Fevereiro">Fevereiro</option>
        <option value="Março">Março</option>
        <option value="Abril">Abril</option>
        <option value="Maio">Maio</option>
        <option value="Junho">Junho</option>
        <option value="Julho">Julho</option>
        <option value="Agosto">Agosto</option>
        <option value="Setembro">Setembro</option>
        <option value="Outubro">Outubro</option>
        <option value="Novembro">Novembro</option>
        <option value="Dezembro">Dezembro</option>
      </select>
      <input type="text" name="ano" placeholder="Ano" style="flex:1;">
    </div>
  </div>

  <div class="question">
    <label>Telefone</label>
    <input type="text" name="telefone">
  </div>

  <div class="question">
    <label>EM QUAL CIDADE MORA? *</label>
    <div class="options">
      <label><input type="radio" name="cidade" value="Barreiras-BA" onclick="toggleOutra()"> Barreiras-BA</label>
      <label><input type="radio" name="cidade" value="Luis Eduardo Magalhães-BA" onclick="toggleOutra()"> Luis Eduardo Magalhães-BA</label>
      <label><input type="radio" name="cidade" value="Outra" onclick="toggleOutra()"> Outra</label>
    </div>
    <div id="outra-cidade" style="display:none;">
      <input type="text" name="cidade_outra" placeholder="Qual cidade?">
    </div>
  </div>

  <!-- Avaliação Ambiente -->
  <div class="question">
    <label>O QUE ACHOU DO NOSSO AMBIENTE?</label>
    <div class="options">
      <label><input type="radio" name="ambiente" value="Ótimo" onclick="toggleJustify(this)"> Ótimo</label>
      <label><input type="radio" name="ambiente" value="Bom" onclick="toggleJustify(this)"> Bom</label>
      <label><input type="radio" name="ambiente" value="Ruim" onclick="toggleJustify(this)"> Ruim</label>
    </div>
    <div class="justify" id="ambiente-justify">
      <textarea name="ambiente_justificativa" placeholder="Descreva o motivo"></textarea>
    </div>
  </div>

  <!-- Avaliação Iluminação -->
  <div class="question">
    <label>O QUE ACHOU DA ILUMINAÇÃO?</label>
    <div class="options">
      <label><input type="radio" name="iluminacao" value="Ótimo" onclick="toggleJustify(this)"> Ótimo</label>
      <label><input type="radio" name="iluminacao" value="Bom" onclick="toggleJustify(this)"> Bom</label>
      <label><input type="radio" name="iluminacao" value="Ruim" onclick="toggleJustify(this)"> Ruim</label>
    </div>
    <div class="justify" id="iluminacao-justify">
      <textarea name="iluminacao_justificativa" placeholder="Descreva o motivo"></textarea>
    </div>
  </div>

  <!-- Avaliação Comida -->
  <div class="question">
    <label>COMO ESTAVA A COMIDA?</label>
    <div class="options">
      <label><input type="radio" name="comida" value="Ótima" onclick="toggleJustify(this)"> Ótima</label>
      <label><input type="radio" name="comida" value="Boa" onclick="toggleJustify(this)"> Boa</label>
      <label><input type="radio" name="comida" value="Ruim" onclick="toggleJustify(this)"> Ruim</label>
    </div>
    <div class="justify" id="comida-justify">
      <textarea name="comida_justificativa" placeholder="Descreva o motivo"></textarea>
    </div>
  </div>

  <!-- Avaliação Atendimento -->
  <div class="question">
    <label>COMO AVALIA O ATENDIMENTO RECEBIDO?</label>
    <div class="options">
      <label><input type="radio" name="atendimento" value="Ótimo" onclick="toggleJustify(this)"> Ótimo</label>
      <label><input type="radio" name="atendimento" value="Bom" onclick="toggleJustify(this)"> Bom</label>
      <label><input type="radio" name="atendimento" value="Ruim" onclick="toggleJustify(this)"> Ruim</label>
    </div>
    <div class="justify" id="atendimento-justify">
      <textarea name="atendimento_justificativa" placeholder="Descreva o motivo"></textarea>
    </div>
  </div>

  <!-- Avaliação Climatização -->
  <div class="question">
    <label>O QUE ACHOU DA CLIMATIZAÇÃO?</label>
    <div class="options">
      <label><input type="radio" name="climatizacao" value="Ótima" onclick="toggleJustify(this)"> Ótima</label>
      <label><input type="radio" name="climatizacao" value="Boa" onclick="toggleJustify(this)"> Boa</label>
      <label><input type="radio" name="climatizacao" value="Ruim" onclick="toggleJustify(this)"> Ruim</label>
    </div>
    <div class="justify" id="climatizacao-justify">
      <textarea name="climatizacao_justificativa" placeholder="Descreva o motivo"></textarea>
    </div>
  </div>
 <div class="question">
    <label>O que gostaria que fosse adicionado ao cardápio?
 *</label>
    <input type="text" name="nome" required>
  </div>

  <button type="submit">Enviar</button>
  <div id="status"></div>

</form>

<script>
function toggleOutra() {
  const outra = document.querySelector('input[name="cidade"][value="Outra"]').checked;
  document.getElementById('outra-cidade').style.display = outra ? 'block' : 'none';
}

function toggleJustify(input) {
  const question = input.name;
  const justifyDiv = document.getElementById(`${question}-justify`);
  if (input.value.toLowerCase() === "ruim") {
    justifyDiv.style.display = "block";
  } else {
    justifyDiv.style.display = "none";
    justifyDiv.querySelector("textarea").value = "";
  }
}

document.getElementById('pesquisaForm').addEventListener('submit', function(e) {
  e.preventDefault();

  const data = {
    nome: document.querySelector('[name="nome"]').value,
    aniversario: document.querySelector('[name="dia"]').value + "/" +
                  document.querySelector('[name="mes"]').value + "/" +
                  document.querySelector('[name="ano"]').value,
    telefone: document.querySelector('[name="telefone"]').value,
    cidade: document.querySelector('input[name="cidade"]:checked')?.value === "Outra"
            ? document.querySelector('[name="cidade_outra"]').value
            : document.querySelector('input[name="cidade"]:checked')?.value || '',
    ambiente: document.querySelector('input[name="ambiente"]:checked')?.value || '',
    ambiente_justificativa: document.querySelector('[name="ambiente_justificativa"]').value || '',
    iluminacao: document.querySelector('input[name="iluminacao"]:checked')?.value || '',
    iluminacao_justificativa: document.querySelector('[name="iluminacao_justificativa"]').value || '',
    comida: document.querySelector('input[name="comida"]:checked')?.value || '',
    comida_justificativa: document.querySelector('[name="comida_justificativa"]').value || '',
    atendimento: document.querySelector('input[name="atendimento"]:checked')?.value || '',
    atendimento_justificativa: document.querySelector('[name="atendimento_justificativa"]').value || '',
    climatizacao: document.querySelector('input[name="climatizacao"]:checked')?.value || '',
    climatizacao_justificativa: document.querySelector('[name="climatizacao_justificativa"]').value || '',
  };

  fetch("https://script.google.com/macros/s/AKfycbzmAO269YcFMrP8WmST9giI_oawsEagD1PONo35Sdutws6yoca8KxUbIr17IajJ_WJ6Dg/exec", {
    method: "POST",
    body: JSON.stringify(data),
    headers: { "Content-Type": "application/json" }
  })
  .then(r => r.text())
  .then(() => {
    document.getElementById('status').innerHTML = "<p class='success'>Obrigado! Resposta enviada com sucesso.</p>";
    document.getElementById('pesquisaForm').reset();
    document.querySelectorAll('.justify').forEach(j => j.style.display = 'none');
    document.getElementById('outra-cidade').style.display = 'none';
  })
  .catch(err => {
    document.getElementById('status').innerHTML = "<p class='error'>Erro: " + err + "</p>";
  });
});
</script>

</body>
</html>
